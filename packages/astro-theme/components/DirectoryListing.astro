---
import type { NavDirectory, NavEntry } from "../lib/nav";

interface Props {
	dir: NavDirectory;
}

const { dir } = Astro.props;

function getEntryDescription(entry: NavEntry): string | undefined {
	if (entry.type === "file") {
		return entry.collectionEntry.data.description;
	}
	return undefined;
}
---

<ul class="grid grid-cols-1 gap-4">
	{
		dir.entries.map((entry) => {
			return (
				<li>
					<a
						href={entry.href}
						class="block group rounded-md border bg-bg-950 px-4 py-3 shadow border-bg-800 hover:border-bg-700 transition-colors"
					>
						<div class="text-lg font-semibold text-bg-300 group-hover:text-bg-50 transition-colors">
							{entry.title}
						</div>
						<div class="text-ellipsis whitespace-nowrap overflow-hidden text-bg-400 text-sm">
							{getEntryDescription(entry) ?? ""}
						</div>
					</a>
				</li>
			);
		})
	}
</ul>
