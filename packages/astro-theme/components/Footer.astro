---
import { Icon } from "astro-icon";
import { DISCORD_URL, TWITTER_URL, GITHUB_URL, LINKEDIN_URL } from "../consts";
import { Image } from "astro:assets";
import logotype from "../assets/branding/company/logotype-white.svg";
import awardA from "../assets/awards/uk-business-tech-awards.webp";
import awardB from "../assets/awards/national-technology-awards.webp";
import { t } from "../lib/i18n";

const today = new Date();

interface Props {
	includeGrow?: boolean; // default: true
}

interface Section {
	name: string;
	description?: string;
	links: {
		text: string;
		href: string;
	}[];
}

const sections: Section[] = [
	{
		name: t("Technology", Astro.currentLocale),
		links: [
			{ text: "Cheerp", href: "https://cheerp.io" },
			{ text: "CheerpJ", href: "https://cheerpj.com" },
			{ text: "CheerpX", href: "https://cheerpx.io" },
			{
				text: "CheerpX for Flash",
				href: "https://leaningtech.com/cheerpx-for-flash",
			},
			{ text: "BrowserPod", href: "https://browserpod.io" },
		],
	},
	{
		name: t("Browser extensions", Astro.currentLocale),
		links: [
			{
				text: "CheerpJ Applet Runner",
				href: "https://cheerpj.com/cheerpj-applet-runner/",
			},
			{
				text: "CheerpJ JNLP Runner",
				href: "https://cheerpj.com/cheerpj-jnlp-runner/",
			},
		],
	},
	{
		name: t("Resources", Astro.currentLocale),

		links: [
			{
				text: t("Documentation", Astro.currentLocale),
				href: "https://labs.leaningtech.com/#ecosystem",
			},
			{
				text: t("Blog", Astro.currentLocale),
				href: "https://labs.leaningtech.com/blog",
			},
			{ text: "GitHub", href: "https://github.com/leaningtech" },
			{
				text: t("Contributing", Astro.currentLocale),
				href: "https://labs.leaningtech.com/docs/contributing",
			},
		],
	},
	{
		name: t("Company", Astro.currentLocale),
		links: [
			{
				text: t("About us", Astro.currentLocale),
				href: "https://leaningtech.com/about-us/",
			},
			{
				text: t("News", Astro.currentLocale),
				href: "https://leaningtech.com/news/",
			},
			{
				text: t("Partner program", Astro.currentLocale),
				href: "https://leaningtech.com/partner-programs/",
			},
			{
				text: t("Privacy policy", Astro.currentLocale),
				href: "https://leaningtech.com/privacy-policy/",
			},
			{
				text: t("Careers", Astro.currentLocale),
				href: "https://leaningtech.freshteam.com/jobs",
			},
		],
	},
];
---

{Astro.props.includeGrow === false ? null : <div class="grow" />}

<footer class="p-14 bg-black border-t border-stone-700">
	<div class="w-full max-w-screen-2xl mx-auto">
		<div
			class="grid sm:grid-cols-1 lg:grid-cols-[auto_1fr_1fr] gap-14 place-content-between text-lg"
		>
			<div class="flex justify-between gap-6 lg:flex-col">
				<a
					class="inline-block hover:opacity-90 col-span-2"
					href="https://leaningtech.com"
				>
					<Image
						src={logotype}
						loading="lazy"
						alt="Leaning Technologies"
						class="w-auto h-20"
					/>
				</a>
				<div class="hidden sm:flex gap-6 justify-between">
					<Image
						src={awardA}
						loading="lazy"
						alt="UK Business Tech Awards 2022 Finalist"
						class="w-auto h-32"
					/>
					<Image
						src={awardB}
						loading="lazy"
						alt="National Technology Awards 2022 Winner"
						class="w-auto h-32"
					/>
				</div>
			</div>
			<div
				class="grid sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-6 place-content-between text-lg col-span-2"
			>
				{
					sections.map((section) => (
						<section class="space-y-3">
							<h3 class="text-xl font-semibold">{section.name}</h3>
							{section.description && (
								<p class="text-stone-400">{section.description}</p>
							)}
							<ul class="space-y-3">
								{section.links.map((link) => (
									<li>
										<a
											href={link.href}
											class="text-stone-400 hover:text-primary-500"
										>
											{link.text}
										</a>
									</li>
								))}
							</ul>
						</section>
					))
				}
			</div>
		</div>
		<div
			class="grid sm:grid-cols-1 md:grid-cols-4 border-t border-stone-800 mt-14 pt-6 gap-6"
		>
			<div class="flex items-left gap-3">
				<a href={DISCORD_URL}>
					<Icon
						name="fa-brands:discord"
						class="w-6 h-6 hover:text-primary-500"
					/>
				</a>
				<a href={GITHUB_URL}>
					<Icon name="mdi:github" class="w-6 h-6 hover:text-primary-500" />
				</a>
				<a href={TWITTER_URL}>
					<Icon name="mdi:twitter" class="w-6 h-6 hover:text-primary-500" />
				</a>
				<a href={LINKEDIN_URL}>
					<Icon name="mdi:linkedin" class="w-6 h-6 hover:text-primary-500" />
				</a>
			</div>
			<div class="text-stone-400 text-xs md:text-right md:col-span-3">
				<p class="align-baseline">
					Â© {today.getFullYear()} Leaning Technologies . All rights reserved.
				</p>
				<p class="col-span-2">
					Cheerp is a registered trademark of Leaning Technologies. The Cheerp,
					CheerpJ, and CheerpX logos are based on the HTML5 logo by <a
						href="https://www.w3.org/">W3C</a
					> (<a href="https://creativecommons.org/licenses/by/3.0/">license</a>)
				</p>
			</div>
		</div>
	</div>
</footer>
