---
import { Icon } from "astro-icon/components";

// TODO: backdrop-filter or shadow so scrollprompt works on light backgrounds
---

<a
	href="#after-hero"
	class="hidden md:inline-block p-6 text-white opacity-80 hover:opacity-100 transition-opacity absolute bottom-0"
	title="Scroll down"
>
	<Icon
		name="mdi:chevron-down"
		class="w-8 h-8 animate-bounce transition-opacity"
		id="scroll-prompt-chevron"
	/>
</a>

<a id="after-hero"></a>

<script>
	function update() {
		const chevron = document.querySelector("#scroll-prompt-chevron");
		if (chevron) {
			if (window.scrollY > 5) {
				chevron.classList.add("opacity-0");
			} else {
				chevron.classList.remove("opacity-0");
			}
		}
	}

	// Hide the chevron when the user scrolls down
	window.addEventListener("scroll", update, { passive: true });

	window.addEventListener("DOMContentLoaded", update);
</script>
